; Two build environments for experiments: baseline and improved (throttling)
[env:baseline]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
build_flags = -DCORE_DEBUG_LEVEL=3 -DNETWORK_MIN_INTERVAL_MS=30000
lib_deps =
  adafruit/DHT sensor library@^1.4.4
  adafruit/Adafruit Unified Sensor@^1.1.14
  marcoschwartz/LiquidCrystal_I2C@^1.1.4
  bblanchon/ArduinoJson@^6.20.0
  ; pass WEATHER_API_KEY at build time: -DWEATHER_API_KEY="your_key"
  ; pass Supabase settings (do NOT commit keys):
  ; -DSUPABASE_URL="https://<project>.supabase.co" -DSUPABASE_KEY="your_anon_or_service_role_key"
  
; local_build_with_keys removed to avoid committing secrets

[env:improved]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
build_flags = -DCORE_DEBUG_LEVEL=3 -DNETWORK_MIN_INTERVAL_MS=60000
lib_deps =
  adafruit/DHT sensor library@^1.4.4
  adafruit/Adafruit Unified Sensor@^1.1.14
  marcoschwartz/LiquidCrystal_I2C@^1.1.4
  ; override network interval for improved env

; To enable the Tomorrow.io API, set your API key locally (DO NOT commit the key):
; Example (PowerShell):
;   pio run -e baseline -DWEATHER_API_KEY=\"ly9TVAxTQsZTKdPtKfXfoQPxZrghJH9F\"
; Or add the flag to an environment (not recommended to commit):
; build_flags = -DCORE_DEBUG_LEVEL=3 -DNETWORK_MIN_INTERVAL_MS=30000 -DWEATHER_API_KEY=\"<YOUR_KEY>\"

